<form id="certForm" action="/generate-certificate" method="POST">
    <input name="name" placeholder="Name" required />
    <input name="mother_name" placeholder="Mother's Name" required />
    <input name="father_name" placeholder="Father's Name" required />
    <input name="dob" placeholder="Date of Birth" required />
    <input name="month_year" placeholder="Month/Year" required />
    <input name="reg_no" placeholder="Register No." required />
    <button type="submit">Generate Certificate</button>
  </form>
  
  <div id="downloadSection" style="display:none;">
    <h3>Your certificate is ready!</h3>
    <a id="downloadBtn" href="" download="certificate.png">
      <button>Download Certificate</button>
    </a>
  </div>
  
  <script>
    document.getElementById("certForm").addEventListener("submit", async function (e) {
      e.preventDefault();
      const formData = new FormData(this);
  
      const response = await fetch("/generate-certificate", {
        method: "POST",
        body: formData
      });
  
      const blob = await response.blob();
      const url = URL.createObjectURL(blob);
  
      document.getElementById("downloadBtn").href = url;
      document.getElementById("downloadSection").style.display = "block";
    });
  </script>
  